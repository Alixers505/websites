$ const { req } = out.global;
$ const { identityX } = req;

<identity-x-context|{ user, isEnabled }|>
  $ const props = {
    activeUser: user,
    requiredServerFields: identityX.config.getRequiredServerFields(),
    requiredClientFields: identityX.config.getRequiredClientFields(),
    callToAction: input.callToAction,
    reloadPageOnSubmit: input.reloadPageOnSubmit,
    endpoints: identityX.config.getEndpoints(),
  };
  <if(isEnabled)>
    <marko-web-browser-component name="IdentityXProfile" props=props />
  </if>
</identity-x-context>
